
/* ==========================================================================
   Minimal Dark Theme (Linear/Warp-inspired)
   Usage: load AFTER your existing main.css. No markup changes required.
   ========================================================================== */

/* ---- Design tokens ---- */
:root {
  --bg-app: #0e1116;            /* page background */
  --bg-panel: #12161d;          /* cards/panels */
  --bg-elev: #151a22;           /* elevated/hover */
  --bg-aside: #0b0f14;          /* sidebar/header base */
  --border: #1d2430;            /* hairline border */
  --text: rgba(255,255,255,0.92);
  --text-dim: rgba(255,255,255,0.72);
  --text-subtle: rgba(255,255,255,0.48);

  /* Accent: Linear-ish indigo/blue */
  --accent: #7a86ff;
  --accent-600: #646eff;
  --accent-700: #515bff;

  --success: #23c7a6;
  --danger: #ff6363;
  --warning: #ffc466;

  --radius: 10px;
  --radius-s: 8px;
  --shadow: 0 0 0 1px var(--border);
  --focus-ring: 0 0 0 3px rgba(100,110,255,0.32);
  --fast: 160ms cubic-bezier(.2,.7,.3,1);
}

/* ---- Base ---- */
html, body {
  background: var(--bg-app) !important;
  color: var(--text) !important;
}
a { color: var(--text); }

/* ---- Header / Sidebar ---- */
.page-header {
  background: var(--bg-aside) !important;
  color: var(--text) !important;
  box-shadow: var(--shadow) !important;
}
.page-aside {
  background: var(--bg-aside) !important;
  box-shadow: var(--shadow) !important;
}
.page-aside::before { background: var(--accent) !important; }
.page-content { background: transparent !important; }

/* ---- Typography tweaks ---- */
.heading, .heading_1, .heading_2, .heading_3, .heading_4, .heading_5 {
  color: var(--text) !important;
}
.paragraph, .bread-crumbs, .comments__author, .summary dt {
  color: var(--text-subtle) !important;
}

/* ---- Cards / Panels ---- */
.card {
  background: var(--bg-panel) !important;
  border-radius: var(--radius) !important;
  color: var(--text) !important;
  box-shadow: var(--shadow) !important;
}
.card__edit, .card__close { color: var(--text-subtle) !important; }
.card__edit:hover, .card__close:hover { color: var(--text-dim) !important; }

/* ---- Buttons ---- */
.button {
  background: var(--accent) !important;
  color: #0b0f14 !important;
  border-radius: var(--radius-s) !important;
  transition: transform var(--fast), background var(--fast);
}
.button:hover { background: var(--accent-600) !important; transform: translateY(-1px); }
.button:active { background: var(--accent-700) !important; transform: translateY(0); }
.button_raised { box-shadow: none !important; }
.button_flat { background: transparent !important; color: var(--accent) !important; }
.button_red { background: transparent !important; color: var(--danger) !important; }
.flask_button_red { background: var(--danger) !important; color: #fff !important; }
.button_green { background: var(--success) !important; color: #0b0f14 !important; }
.button.button_blue { background: var(--accent) !important; }

/* ---- Inputs ---- */
.input__text {
  color: var(--text) !important;
  background: transparent !important;
  border-bottom: 1px solid var(--border) !important;
  transition: border-color var(--fast), box-shadow var(--fast);
}
.input__text:hover {
  border-bottom-color: var(--text-subtle) !important;
}
.input__text:focus {
  border-bottom-color: var(--accent) !important;
  box-shadow: 0 1px 0 0 var(--accent) !important, var(--focus-ring);
}
.input__label, .input__hint { color: var(--text-subtle) !important; }
.input__text:focus + .input__label { color: var(--accent) !important; }

.checkbox i { border-color: var(--text-subtle) !important; }
.checkbox input:checked + i { background: var(--accent) !important; border-color: var(--accent) !important; }

/* Token input */
.token-input-list { border-bottom: 1px solid var(--border) !important; }
.token-input-list.focus { box-shadow: 0 1px 0 0 var(--accent) !important; border-bottom-color: var(--accent) !important; }
.token-input-token p { background: var(--bg-elev) !important; border-radius: 7px !important; }
.token-input-delete-token { color: var(--danger) !important; }
.token-input-dropdown {
  background: var(--bg-panel) !important;
  color: var(--text) !important;
  box-shadow: var(--shadow) !important;
}
.token-input-selected-dropdown-item { background: var(--bg-elev) !important; }

/* ---- Data tables ---- */
.table th { color: var(--text-subtle) !important; }
.table td {
  color: var(--text) !important;
  border-top: 1px solid var(--border) !important;
}
.table tr:hover td { background: var(--bg-elev) !important; }

/* ---- Filters / Studies layout specifics ---- */
.filters .button { background: var(--accent) !important; }
.studies .table th a:hover { color: var(--accent) !important; }

/* ---- Tabs ---- */
ul.tabs>li {
  background: var(--bg-panel) !important;
  color: var(--text-dim) !important;
  border-radius: 8px 8px 0 0;
}
ul.tabs>li:hover { color: var(--accent) !important; background: var(--bg-elev) !important; }
ul.tabs>li.tab>a.active { color: var(--success) !important; }

/* ---- Popups ---- */
.popup { background: rgba(0,0,0,0.55) !important; }
.popup .card { background: var(--bg-panel) !important; box-shadow: var(--shadow) !important; }

/* ---- jQuery UI / Datepicker ---- */
.ui-datepicker {
  background: var(--bg-panel) !important;
  color: var(--text) !important;
  box-shadow: var(--shadow) !important;
}
.ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-title { color: var(--text-dim) !important; }
.ui-state-active { background: var(--accent) !important; color: #0b0f14 !important; }

/* ---- Autocomplete ---- */
.ui-widget-content.ui-autocomplete.flask-autocomplete {
  background: var(--bg-panel) !important;
  border: 1px solid var(--border) !important;
  color: var(--text) !important;
}
.flask-autocomplete .ui-state-active { background: var(--accent) !important; color: #0b0f14 !important; }

/* ---- Status utility ---- */
.success, .c_green { color: var(--success) !important; }
.c_red, .date-error { color: var(--danger) !important; }
.text-link_blue { color: var(--accent) !important; }
.text-link_red { color: var(--danger) !important; }
.text-link_gray { color: var(--text-subtle) !important; }
